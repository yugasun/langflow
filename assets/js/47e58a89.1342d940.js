"use strict";(self.webpackChunklangflow_docs=self.webpackChunklangflow_docs||[]).push([[1006],{5955:(e,n,o)=>{o.d(n,{Ay:()=>i,RM:()=>r});var s=o(74848),t=o(28453);const r=[];function a(e){const n={code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"The default config directory location depends on your operating system and installation method:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"macOS Desktop"}),":",(0,s.jsx)(n.code,{children:"/Users/<username>/Library/Logs/com.Langflow"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Windows Desktop"}),":",(0,s.jsx)(n.code,{children:"C:\\Users\\<username>\\AppData\\Roaming\\com.Langflow\\cache"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["OSS macOS/Windows/Linux/WSL (",(0,s.jsx)(n.code,{children:"uv pip install"}),")"]}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"macOS"}),": ",(0,s.jsx)(n.code,{children:"/Users/<username>/Library/Caches/langflow"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Linux"}),": ",(0,s.jsx)(n.code,{children:"/home/<username>/.cache/langflow"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Windows"}),": ",(0,s.jsx)(n.code,{children:"C:\\Users\\<username>\\AppData\\Local\\langflow\\langflow\\Cache"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["OSS macOS/Windows/Linux/WSL (",(0,s.jsx)(n.code,{children:"git clone"}),")"]}),": ",(0,s.jsx)(n.code,{children:"<path_to_clone>/src/backend/base/langflow/"})]}),"\n"]})]})}function i(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},17175:(e,n,o)=>{o.d(n,{Ay:()=>i,RM:()=>r});var s=o(74848),t=o(28453);const r=[];function a(e){const n={code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"The default storage path depends on your operation system and installation method:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"macOS Desktop"}),": ",(0,s.jsx)(n.code,{children:"/Users/<username>/.langflow/data/database.db"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Windows Desktop"}),": ",(0,s.jsx)(n.code,{children:"C:\\Users\\<name>\\AppData\\Roaming\\com.Langflow\\data\\langflow.db"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["OSS macOS/Windows/Linux/WSL (",(0,s.jsx)(n.code,{children:"uv pip install"}),")"]}),": ",(0,s.jsx)(n.code,{children:"<path_to_venv>/lib/python3.12/site-packages/langflow/langflow.db"})," (Python version may vary)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["OSS macOS/Windows/Linux/WSL (",(0,s.jsx)(n.code,{children:"git clone"}),")"]}),": ",(0,s.jsx)(n.code,{children:"<path_to_clone>/src/backend/base/langflow/langflow.db"})]}),"\n"]})]})}function i(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>a,x:()=>i});var s=o(96540);const t={},r=s.createContext(t);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:n},e.children)}},33354:(e,n,o)=>{o.r(n),o.d(n,{CH:()=>h,assets:()=>d,chCodeConfig:()=>m,contentTitle:()=>l,default:()=>f,frontMatter:()=>c,metadata:()=>s,toc:()=>g});const s=JSON.parse('{"id":"Develop/memory","title":"Memory management options","description":"Langflow provides flexible memory management options for storage and retrieval of data relevant to your flows and your Langflow server.","source":"@site/docs/Develop/memory.mdx","sourceDirName":"Develop","slug":"/memory","permalink":"/memory","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Memory management options","slug":"/memory"},"sidebar":"docs","previous":{"title":"Manage files","permalink":"/concepts-file-management"},"next":{"title":"Use Session IDs","permalink":"/session-id"}}');var t=o(74848),r=o(28453),a=o(24754),i=(o(5955),o(17175));const c={title:"Memory management options",slug:"/memory"},l=void 0,d={},h={annotations:a.hk,Code:a.Cy},m={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:!0,showCopyButton:!0,themeName:"github-dark"},g=[{value:"Storage options and paths",id:"storage-options-and-paths",level:2},...i.RM,{value:"Local Langflow database tables",id:"local-langflow-database-tables",level:2},{value:"Configure external memory",id:"configure-external-memory",level:2},{value:"Connection pool parameters",id:"connection-pool-parameters",level:3},{value:"Configure cache memory",id:"configure-cache-memory",level:2},{value:"Cache environment variables",id:"cache-environment-variables",level:3},{value:"Store chat memory",id:"store-chat-memory",level:2},{value:"Session ID and chat memory",id:"session-id-and-chat-memory",level:3},{value:"Chat memory options",id:"chat-memory-options",level:3},{value:"See also",id:"see-also",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components},{Details:o}=n;return h||x("CH",!1),h.Code||x("CH.Code",!0),o||x("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="github-dark"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #c9d1d9;--ch-t-background: #0d1117;--ch-t-lighter-inlineBackground: #0d1117e6;--ch-t-editor-background: #0d1117;--ch-t-editor-foreground: #c9d1d9;--ch-t-editor-lineHighlightBackground: #6e76811a;--ch-t-editor-rangeHighlightBackground: #ffffff0b;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #264F78;--ch-t-focusBorder: #1f6feb;--ch-t-tab-activeBackground: #0d1117;--ch-t-tab-activeForeground: #c9d1d9;--ch-t-tab-inactiveBackground: #010409;--ch-t-tab-inactiveForeground: #8b949e;--ch-t-tab-border: #30363d;--ch-t-tab-activeBorder: #0d1117;--ch-t-editorGroup-border: #30363d;--ch-t-editorGroupHeader-tabsBackground: #010409;--ch-t-editorLineNumber-foreground: #6e7681;--ch-t-input-background: #0d1117;--ch-t-input-foreground: #c9d1d9;--ch-t-input-border: #30363d;--ch-t-icon-foreground: #8b949e;--ch-t-sideBar-background: #010409;--ch-t-sideBar-foreground: #c9d1d9;--ch-t-sideBar-border: #30363d;--ch-t-list-activeSelectionBackground: #6e768166;--ch-t-list-activeSelectionForeground: #c9d1d9;--ch-t-list-hoverBackground: #6e76811a;--ch-t-list-hoverForeground: #c9d1d9; }'}}),"\n","\n",(0,t.jsx)(n.p,{children:"Langflow provides flexible memory management options for storage and retrieval of data relevant to your flows and your Langflow server.\nThis includes essential Langflow database tables, file management, and caching, as well as chat memory."}),"\n",(0,t.jsx)(n.h2,{id:"storage-options-and-paths",children:"Storage options and paths"}),"\n",(0,t.jsx)(n.p,{children:"Langflow supports both local memory and external memory options."}),"\n",(0,t.jsxs)(n.p,{children:["Langflow's default storage option is a ",(0,t.jsx)(n.a,{href:"https://www.sqlite.org/",children:"SQLite"})," database stored in your system's cache directory."]}),"\n",(0,t.jsx)(i.Ay,{}),"\n",(0,t.jsxs)(n.p,{children:["Alternatively, you can use an external PostgreSQL database for all of your Langflow storage.\nYou can also selectively use external storage for chat memory, separate from other Langflow storage.\nFor more information, see ",(0,t.jsx)(n.a,{href:"#configure-external-memory",children:"Configure external memory"})," and ",(0,t.jsx)(n.a,{href:"#store-chat-memory",children:"Store chat memory"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"local-langflow-database-tables",children:"Local Langflow database tables"}),"\n",(0,t.jsxs)(n.p,{children:["The following tables are stored in ",(0,t.jsx)(n.code,{children:"langflow.db"}),":"]}),"\n",(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.strong,{children:"ApiKey"}),": Manages Langflow API authentication keys. Component API keys are stored in the ",(0,t.jsx)(n.strong,{children:"Variables"})," table. For more information, see ",(0,t.jsx)(n.a,{href:"/api-keys-and-authentication",children:"API keys and authentication"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.strong,{children:"File"}),": Stores metadata for files uploaded to Langflow's file management system, including file names, paths, sizes, and storage providers. For more information, see ",(0,t.jsx)(n.a,{href:"/concepts-file-management",children:"Manage files"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.strong,{children:"Flow"}),": Contains flow definitions, including nodes, edges, and components, stored as JSON or database records. For more information, see ",(0,t.jsx)(n.a,{href:"/concepts-flows",children:"Build flows"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.strong,{children:"Folder"}),": Provides a structure for flow storage, including single-user folders and shared folders accessed by multiple users. For more information, see ",(0,t.jsx)(n.a,{href:"/concepts-flows#projects",children:"Manage flows in projects"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.strong,{children:"Message"}),": Stores chat messages and interactions that occur between components. For more information, see ",(0,t.jsx)(n.a,{href:"/data-types#message",children:"Message objects"})," and ",(0,t.jsx)(n.a,{href:"#store-chat-memory",children:"Store chat memory"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.strong,{children:"Transactions"}),": Records execution history and results of flow runs. This information is used for ",(0,t.jsx)(n.a,{href:"/logging",children:"logging"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.strong,{children:"User"}),": Stores user account information including credentials, permissions, profiles, and user management settings. For more information, see ",(0,t.jsx)(n.a,{href:"/api-keys-and-authentication",children:"API keys and authentication"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.strong,{children:"Variables"}),": Stores global encrypted values and credentials. For more information, see ",(0,t.jsx)(n.a,{href:"/configuration-global-variables",children:"Global variables"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.strong,{children:"VertexBuild"}),": Tracks the build status of individual nodes within flows. For more information, see ",(0,t.jsx)(n.a,{href:"/concepts-playground",children:"Test flows in the Playground"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["For more information, see the database models in the ",(0,t.jsx)(n.a,{href:"https://github.com/langflow-ai/langflow/tree/main/src/backend/base/langflow/services/database/models",children:"source code"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"configure-external-memory",children:"Configure external memory"}),"\n",(0,t.jsxs)(n.p,{children:["To replace the default Langflow SQLite database with another database, modify the ",(0,t.jsx)(n.code,{children:"LANGFLOW_DATABASE_URL"})," environment variable, and then start Langflow with your ",(0,t.jsx)(n.code,{children:".env"})," file:"]}),"\n",(0,t.jsx)(h.Code,{codeConfig:m,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"LANGFLOW_DATABASE_URL=postgresql://user:password@localhost:5432/langflow",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,t.jsxs)(n.p,{children:["For an example, see ",(0,t.jsx)(n.a,{href:"/configuration-custom-database",children:"Configure an external PostgreSQL database"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"LANGFLOW_DB_CONNECTION_SETTINGS"})," is a JSON configuration for database connection pool settings that allows you to fine-tune your database connection pool and timeout settings."]}),"\n",(0,t.jsx)(h.Code,{codeConfig:m,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"LANGFLOW_DB_CONNECTION_SETTINGS",props:{style:{color:"#C9D1D9"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:'\'{"pool_size": 20, "max_overflow": 30, "pool_timeout": 30, "pool_pre_ping": true, "pool_recycle": 1800, "echo": false}\'',props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,t.jsx)(n.h3,{id:"connection-pool-parameters",children:"Connection pool parameters"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pool_size"}),": Maximum number of database connections to keep in the pool. Default: 20 connections."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"max_overflow"}),": Maximum number of connections that can be created beyond the pool_size. Default: 30 connections."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pool_timeout"}),": Number of seconds to wait before timing out on getting a connection from the pool. Default: 30 seconds."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pool_pre_ping"}),": If ",(0,t.jsx)(n.code,{children:"true"}),", the pool tests connections for liveness upon each checkout. Default: ",(0,t.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pool_recycle"}),": Number of seconds after which a connection is automatically recycled. Default: 1800 seconds (30 minutes)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"echo"}),": If ",(0,t.jsx)(n.code,{children:"true"}),", SQL queries are logged for debugging purposes. Default: ",(0,t.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"configure-cache-memory",children:"Configure cache memory"}),"\n",(0,t.jsx)(n.p,{children:"The default Langflow caching behavior is an asynchronous, in-memory cache."}),"\n",(0,t.jsx)(h.Code,{codeConfig:m,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"LANGFLOW_LANGCHAIN_CACHE=InMemoryCache",props:{}}]},{tokens:[{content:"LANGFLOW_CACHE_TYPE=async",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,t.jsx)(n.p,{children:"Langflow officially supports only the default asynchronous, in-memory cache. Other backends are experimental and may change without notice.\nThe default behavior is suitable for most use cases."}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"Redis and other external cache settings are experimental and not officially supported."})}),"\n",(0,t.jsx)(n.h3,{id:"cache-environment-variables",children:"Cache environment variables"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Variable"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Default"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"LANGFLOW_CACHE_TYPE"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"async"})}),(0,t.jsx)(n.td,{children:"Set the cache type for Langflow's internal caching system."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"LANGFLOW_LANGCHAIN_CACHE"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"InMemoryCache"})}),(0,t.jsx)(n.td,{children:"Set the cache type for Langchain's caching system."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"LANGFLOW_REDIS_HOST"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"localhost"})}),(0,t.jsx)(n.td,{children:"Redis server hostname."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"LANGFLOW_REDIS_PORT"})}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"6379"})}),(0,t.jsx)(n.td,{children:"Redis server port."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"LANGFLOW_REDIS_DB"})}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"0"})}),(0,t.jsx)(n.td,{children:"Redis database number."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"LANGFLOW_REDIS_CACHE_EXPIRE"})}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"3600"})}),(0,t.jsx)(n.td,{children:"Cache expiration time in seconds."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"LANGFLOW_REDIS_PASSWORD"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"Not set"}),(0,t.jsx)(n.td,{children:"Redis authentication password (optional)."})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"store-chat-memory",children:"Store chat memory"}),"\n",(0,t.jsxs)(n.p,{children:["Chat-based flows with a ",(0,t.jsx)(n.strong,{children:"Chat Input"})," or ",(0,t.jsx)(n.strong,{children:"Chat Output"})," component produce chat history that is stored in the Langflow ",(0,t.jsx)(n.code,{children:"messages"})," table.\nAt minimum, this serves as a chat log, but it isn't functionally the same as chat memory that provides historical context to an LLM."]}),"\n",(0,t.jsxs)(n.p,{children:["To store and retrieve chat memories in flows, you can use a ",(0,t.jsx)(n.strong,{children:"Message History"})," component or the ",(0,t.jsx)(n.strong,{children:"Agent"})," component's built-in chat memory."]}),"\n",(0,t.jsxs)(o,{children:[(0,t.jsx)("summary",{children:"How does chat memory work?"}),(0,t.jsx)(n.p,{children:"Chat memory is a cache for an LLM or agent to preserve past conversations to retain and reference that context in future interactions.\nFor example, if a user has already told the LLM their name, the LLM can retrieve that information from chat memory rather than asking the user to repeat themselves in future conversations or messages."}),(0,t.jsx)(n.p,{children:"Chat memory is distinct from vector store memory because it is built specifically for storing and retrieving chat messages from databases."}),(0,t.jsxs)(n.p,{children:["Components that support chat memory (such as the ",(0,t.jsx)(n.strong,{children:"Agent"})," and ",(0,t.jsx)(n.strong,{children:"Message History"})," components) provide access to their respective databases ",(0,t.jsx)(n.em,{children:"as memory"}),".\nRetrieval as memory is an important distinction for LLMs and agents because this storage and retrieval mechanism is specifically designed to recall context from past conversations.\nUnlike vector stores, which are designed for semantic search and retrieval of text chunks, chat memory is designed to store and retrieve chat messages in a way that is optimized for conversation history."]})]}),"\n",(0,t.jsx)(n.h3,{id:"session-id-and-chat-memory",children:"Session ID and chat memory"}),"\n",(0,t.jsxs)(n.p,{children:["Chat history and memories are grouped by ",(0,t.jsxs)(n.a,{href:"/session-id",children:["session ID (",(0,t.jsx)(n.code,{children:"session_id"}),")"]}),"."]}),"\n",(0,t.jsx)(n.p,{children:"The default session ID is the flow ID, which means that all chat messages for a flow are stored under the same session ID as one large chat session."}),"\n",(0,t.jsx)(n.p,{children:"For better segregation of chat memory, especially in flows used by multiple users, consider using custom session IDs.\nFor example, if you use user IDs as session IDs, then each user's chat history is stored separately, isolating the context of their chats from other users' chats."}),"\n",(0,t.jsx)(n.h3,{id:"chat-memory-options",children:"Chat memory options"}),"\n",(0,t.jsx)(n.p,{children:"Where and how chat memory is stored depends on the components used in your flow:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Agent component"}),": This component has built-in chat memory that is enabled by default.\nThis memory allows the agent to retrieve and reference messages from previous conversations associated with the same session ID.\nAll messages are stored in ",(0,t.jsx)(n.a,{href:"#storage-options-and-paths",children:"Langflow storage"}),", and the component provides minimal memory configuration options, such as the number of messages to retrieve."]}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"Agent"})," component's built-in chat memory is sufficient for most use cases."]}),"\n",(0,t.jsxs)(n.p,{children:["If you want to use external chat memory storage, retrieve memories outside the context of a chat, or use chat memory with a language model component (not an agent), you must use the ",(0,t.jsx)(n.strong,{children:"Message History"})," component (with or without a third-party chat memory component)."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Message History component"}),": By default, this component stores and retrieves memories from Langflow storage, unless you attach a third-party chat memory component. It provides a few more options for sorting and filtering memories, although most of these options are also built-in to the ",(0,t.jsx)(n.strong,{children:"Agent"})," component as configurable or fixed parameters."]}),"\n",(0,t.jsxs)(n.p,{children:["You can use the ",(0,t.jsx)(n.strong,{children:"Message History"})," component with or without a language model or agent.\nFor example, if you need to retrieve data from memories outside of chat, you can use the ",(0,t.jsx)(n.strong,{children:"Message History"})," component to fetch that data directly from your chat memory database without feeding it into a chat."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Third-party chat memory components"}),": Use one of these components only if you need to store or retrieve chat memories from a dedicated external chat memory database.\nTypically, this is necessary only if you have specific storage needs that aren't met by Langflow storage.\nFor example, if you want to manage chat memory data by directly working with the database, or if you want to use a different database than the default Langflow storage."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["For more information and examples, see ",(0,t.jsxs)(n.a,{href:"/components-helpers#message-history",children:[(0,t.jsx)(n.strong,{children:"Message History"})," component"]})," and ",(0,t.jsx)(n.a,{href:"/agents#agent-memory",children:"Agent memory"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"see-also",children:"See also"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/concepts-file-management",children:"Langflow file management"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/logging",children:"Langflow logs"})}),"\n"]})]})}function f(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}function x(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);